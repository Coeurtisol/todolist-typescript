(()=>{"use strict";class t{constructor(t){this.id=0,this.isDone=!1,this.name=t}}const e=new class{constructor(){this.todos=this.getFromLocal()}add(t){t.id=this.getLastId()+1,this.todos.push(t),this.saveToLocal()}getLastId(){var t;return(null===(t=this.getAll().sort(((t,e)=>t.id-e.id))[this.todos.length-1])||void 0===t?void 0:t.id)||0}getAll(){return this.todos}toggleIsDone(t){const e=this.todos.findIndex((e=>e.id===t));this.todos[e].isDone=!this.todos[e].isDone,this.saveToLocal()}remove(t){const e=this.todos.findIndex((e=>e.id===t));this.todos.splice(e,1),this.saveToLocal()}getFromLocal(){var t;return JSON.parse(null!==(t=localStorage.getItem("todos"))&&void 0!==t?t:"[]")}saveToLocal(){const t=JSON.stringify(this.todos);localStorage.setItem("todos",t)}},o=document.getElementById("todolist-container"),s=document.getElementById("todo-input"),i=()=>{o.innerHTML="",e.getAll().forEach((t=>{const s=document.createElement("li");t.isDone&&s.classList.add("is-done"),s.innerText=t.name,s.addEventListener("click",(()=>{e.toggleIsDone(t.id),i()})),s.addEventListener("dblclick",(()=>{e.remove(t.id),i()})),null==o||o.insertAdjacentElement("beforeend",s)}))};s.addEventListener("keyup",(o=>{if("Enter"==o.key&&s.value.trim()){const o=new t(s.value);e.add(o),s.value="",i()}})),i()})();